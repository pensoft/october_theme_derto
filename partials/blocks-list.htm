<div class="blocks-grid">
    {% if blocks|length > 0 %}
        <div class="blocks-header">
            <h2>Blocks</h2>
        </div>
        <div class="row">
        {% for block in blocks %}
            <div class="col-xs-12">
                <div class="row">
                    <div class="col-xs-1 block-number">
                        {{ loop.index }}
                    </div>
                    <div class="col-xs-11">
                        <a href="{{ block.url }}" class="block-header">
                            <h3 class="block-title">{{ block.name }}</h3>
                            <i class="block-arrow"></i>
                        </a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-1"></div>
                    <div class="col-xs-11">
                        <div class="block-materials-container">
                            <div class="row">
                                {% for lesson in block.lessons %}
                                    {% for material in lesson.materials %}
                                        <div class="col-md-4 col-xs-12">
                                            {% partial 'components/material-card' material=material %}
                                        </div>
                                    {% endfor %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
        </div>
    {% else %}
        <div class="no-blocks-found">
            <p>No blocks available for this topic.</p>
        </div>
    {% endif %}
</div> 